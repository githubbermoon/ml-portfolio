@import "./fonts.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --font-display: "Fraunces", serif;
  --font-ui:
    "Satoshi", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    sans-serif;
  --font-mono:
    "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;
  color-scheme: only dark;
  --color-ink: 11 15 20;
  --color-fog: 207 216 227;
  --color-glass: 230 237 245;
  --color-mist: 170 184 205;
  --color-glow: 125 211 252;
  --color-amber: 245 158 11;
  --panel-bg: 255 255 255;
  --panel-border: 255 255 255;
  --panel-alpha: 0.04;
  --panel-border-alpha: 0.08;
  --panel-shadow: 0 10px 40px rgba(15, 23, 42, 0.2);
  --haze-a: 125 211 252;
  --haze-b: 245 158 11;
}

[data-theme="bright"] {
  color-scheme: only light;
  --color-ink: 244 247 251;
  --color-fog: 15 23 42;
  --color-glass: 15 23 42;
  --color-mist: 51 65 85;
  --color-glow: 14 165 233;
  --color-amber: 234 88 12;
  --panel-bg: 15 23 42;
  --panel-border: 15 23 42;
  --panel-alpha: 0.03;
  --panel-border-alpha: 0.1;
  --panel-shadow: 0 14px 30px rgba(15, 23, 42, 0.12);
  --haze-a: 56 189 248;
  --haze-b: 251 191 36;
}

[data-theme="bright"] .prose-invert {
  --tw-prose-body: rgb(15 23 42);
  --tw-prose-headings: rgb(15 23 42);
  --tw-prose-lead: rgb(51 65 85);
  --tw-prose-links: rgb(14 165 233);
  --tw-prose-bold: rgb(15 23 42);
  --tw-prose-counters: rgb(51 65 85);
  --tw-prose-bullets: rgb(51 65 85);
  --tw-prose-hr: rgb(15 23 42 / 0.1);
  --tw-prose-quotes: rgb(15 23 42);
  --tw-prose-quote-borders: rgb(15 23 42 / 0.2);
  --tw-prose-captions: rgb(51 65 85);
  --tw-prose-code: rgb(15 23 42);
  --tw-prose-pre-code: rgb(226 232 240);
  --tw-prose-pre-bg: rgb(15 23 42);
  --tw-prose-th-borders: rgb(15 23 42 / 0.2);
  --tw-prose-td-borders: rgb(15 23 42 / 0.1);
}

html {
  scroll-behavior: auto;
}

body {
  @apply bg-ink text-fog font-ui antialiased;
  min-height: 100vh;
  background-image:
    radial-gradient(
      1200px 800px at 20% -20%,
      rgb(var(--haze-a) / 0.22),
      transparent 60%
    ),
    radial-gradient(
      800px 600px at 90% 20%,
      rgb(var(--haze-b) / 0.16),
      transparent 60%
    );
  background-attachment: fixed;
  transition: opacity 1.5s ease;
}

body.warp-active > *:not(canvas) {
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.4s ease;
}

body.warp-active canvas {
  z-index: 50;
  position: fixed;
  inset: 0;
}

/* body::after {
  content: "";
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  height: 5rem;
  pointer-events: none;
  background: linear-gradient(
    to bottom,
    transparent,
    rgb(var(--color-ink) / 1)
  );
} */

.film-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: 0;
  z-index: 40;
}

[data-film="on"] .film-overlay {
  opacity: 1;
}

@media (prefers-reduced-motion: reduce), (prefers-contrast: more) {
  .film-overlay {
    opacity: 0 !important;
  }
}

.film-grain,
.film-vignette {
  position: absolute;
  inset: 0;
}

.film-grain {
  opacity: 0.03;
  background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGZpbHRlciBpZD0ibiIgeD0iMCIgeT0iMCIgd2lkdGg9IjEyMCUiIGhlaWdodD0iMTIwJSI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuOCIgbnVtT2N0YXZlcz0iMiIgc3RpdGNoVGlsZXM9InN0aXRjaCIvPjwvZmlsdGVyPjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWx0ZXI9InVybCgjbikiIG9wYWNpdHk9IjAuNCIvPjwvc3ZnPg==");
  background-size: 140px 140px;
  mix-blend-mode: soft-light;
}

.film-vignette {
  opacity: 0.35;
  background: radial-gradient(
    circle at center,
    transparent 35%,
    rgba(0, 0, 0, 0.25) 100%
  );
  mix-blend-mode: multiply;
}

h1,
h2,
h3,
h4 {
  @apply font-display text-glass;
  letter-spacing: -0.01em;
}

.text-glow-cinematic {
  text-shadow: 0 0 20px rgba(var(--color-glow) / 0.4);
}

.section-shell {
  @apply mx-auto w-full max-w-6xl px-6 py-20 md:px-10;
  position: relative;
  z-index: 10;
}

.smooth-section-mask {
  mask-image: linear-gradient(
    to bottom,
    transparent,
    black 25%,
    black 75%,
    transparent
  );
}

.glass-panel {
  @apply rounded-[2.5rem] backdrop-blur-3xl;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: rgba(255, 255, 255, 0.03);
  box-shadow: 0 20px 80px rgba(0, 0, 0, 0.2);
  transition: border-color 300ms ease, transform 300ms ease, box-shadow 300ms ease;
}

[data-theme='bright'] .glass-panel {
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.05);
  backdrop-filter: blur(24px);
}

@media (hover: hover) {
  .glass-panel:hover {
    border-color: rgb(
      var(--panel-border) / calc(var(--panel-border-alpha) + 0.04)
    );
  }
}

.panel-stack {
	position: relative;
}

.data-grid-scene {
	position: absolute;
	inset: 0;
	z-index: 0;
	perspective: 1000px;
	overflow: hidden;
	pointer-events: none;
}

.data-grid-plane {
	position: absolute;
	left: 50%;
	bottom: -30%;
	width: 140%;
	height: 140%;
	transform: translateX(-50%) rotateX(60deg);
	transform-origin: center bottom;
	background-image:
		linear-gradient(rgba(39, 39, 42, 0.35) 1px, transparent 1px),
		linear-gradient(90deg, rgba(39, 39, 42, 0.35) 1px, transparent 1px);
	background-size: 40px 40px;
	animation: grid-scroll 12s linear infinite;
	will-change: background-position;
}

.data-grid-fade {
	position: absolute;
	inset: 0;
	background: linear-gradient(to top, #000 30%, rgba(0, 0, 0, 0.0) 78%);
}

.data-grid-pulse {
	position: absolute;
	left: 0;
	right: 0;
	bottom: 10%;
	top: 20%;
	overflow: hidden;
}

.data-grid-pulse::before,
.data-grid-pulse::after {
	content: '';
	position: absolute;
	width: 2px;
	height: 2px;
	background: #fff;
	box-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
	opacity: 0;
}

.data-grid-pulse::before {
	left: 20%;
	bottom: 0;
	animation: data-packet 6s ease-in-out infinite;
}

.data-grid-pulse::after {
	left: 65%;
	bottom: 0;
	animation: data-packet 7.5s ease-in-out infinite 1.2s;
}

@keyframes grid-scroll {
	from {
		background-position-y: 0;
	}
	to {
		background-position-y: 80px;
	}
}

@keyframes data-packet {
	0% {
		transform: translateY(0);
		opacity: 0;
	}
	10% {
		opacity: 1;
	}
	70% {
		opacity: 1;
	}
	100% {
		transform: translateY(-420px);
		opacity: 0;
	}
}

.panel-stack::before {
  content: "";
  position: absolute;
  inset: -18px;
  border-radius: 56px;
  background:
    radial-gradient(
      120% 120% at 10% 0%,
      rgb(var(--color-glow) / 0.12),
      transparent 55%
    ),
    radial-gradient(
      120% 120% at 90% 20%,
      rgb(var(--color-amber) / 0.1),
      transparent 60%
    ),
    linear-gradient(180deg, rgb(255 255 255 / 0.04), transparent 65%);
  box-shadow: 0 35px 90px rgba(2, 6, 23, 0.45);
  opacity: 0.9;
  z-index: 0;
}

.panel-sheen {
  position: absolute;
  inset: -35% -25%;
  border-radius: 40px;
  background: linear-gradient(
    120deg,
    transparent 20%,
    rgba(125, 211, 252, 0.25) 45%,
    transparent 70%
  );
  filter: blur(6px);
  mix-blend-mode: screen;
  opacity: 0.18;
  pointer-events: none;
  z-index: 1;
}

.panel-stack > :not(.panel-sheen) {
  position: relative;
  z-index: 2;
}

.panel-emphasized {
  position: relative;
  overflow: hidden;
}

.panel-emphasized::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    120deg,
    rgba(255, 255, 255, 0.08),
    rgba(255, 255, 255, 0) 45%
  );
  opacity: 0.6;
  pointer-events: none;
}

.panel-emphasized::after {
  content: "";
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    inset 0 0 0 1px rgba(255, 255, 255, 0.03);
  pointer-events: none;
}

.panel-float {
  will-change: transform;
}

/* Beautification Tricks */
.gradient-text {
  background: linear-gradient(to bottom, #fff 30%, #a1a1aa 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
}

.tag-mono {
  @apply font-mono text-xs tracking-widest uppercase text-fog/60;
}
