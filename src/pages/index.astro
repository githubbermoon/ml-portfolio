---
import BaseLayout from '../layouts/BaseLayout.astro';
import Nav from '../components/Nav.astro';
import Footer from '../components/Footer.astro';
import Section from '../components/Section.astro';
import HeroScene from '../islands/HeroScene';
import SectionScene from '../islands/SectionScene';
import PerformanceToggle from '../islands/PerformanceToggle';
import MermaidDiagram from '../islands/MermaidDiagram';
import ChartBlock from '../islands/ChartBlock';
import ScrollTimelines from '../islands/ScrollTimelines';

const mermaidDefinition = `graph LR
A[Sensor Inputs] --> B[Feature Fusion]
B --> C[Representation]
C --> D[Inference]
D --> E[Dashboard]
`;
---

<BaseLayout
	title="Clawd ML Portfolio"
	description="Cinematic ML portfolio with glassmorphism and WebGL scenes."
	bodyClass="snap-sections"
>
	<Nav />
	<ScrollTimelines client:load />
	<main>
		<section id="hero" class="relative min-h-screen overflow-hidden" data-section data-hero>
			<div
				aria-hidden="true"
				class="absolute inset-0 -z-20"
				style="background: radial-gradient(circle at 20% 20%, rgb(var(--haze-a) / 0.28), transparent 55%), radial-gradient(circle at 80% 10%, rgb(var(--haze-b) / 0.2), transparent 55%);"
			/>
			<HeroScene client:only="react" />
			<div class="section-shell relative z-10 flex min-h-screen flex-col justify-center gap-10">
				<div class="max-w-3xl" data-parallax>
					<p class="text-xs uppercase tracking-[0.3em] text-mist" data-animate>ML + Computer Vision</p>
					<h1 class="mt-4 text-6xl md:text-7xl" data-animate>
						Pranjal Prakash
					</h1>
					<p class="mt-4 text-2xl text-glass md:text-3xl" data-animate>
						Applied ML and computer vision systems
					</p>
					<p class="mt-6 text-lg text-mist md:text-xl" data-animate>
						MCA student at Reva University (CGPA 8.47) building real-time vision pipelines, ML demos, and
						reliable backends with PyTorch and FastAPI.
					</p>
					<div class="mt-8 flex flex-wrap gap-4" data-animate>
						<a class="glass-panel px-6 py-3 text-sm text-glass" href="#work">View featured work</a>
						<a class="rounded-full border border-mist/40 px-6 py-3 text-sm text-mist" href="#contact">Contact</a>
					</div>
				</div>
				<div class="glass-panel flex flex-wrap items-center justify-between gap-6 px-6 py-4" data-animate>
					<div>
						<p class="text-xs uppercase tracking-[0.2em] text-mist">Proof points</p>
						<p class="mt-2 text-sm text-glass font-mono">
							NCSC national winner · Hugging Face hackathon · Python + C++ foundation
						</p>
					</div>
					<PerformanceToggle client:load />
				</div>
			</div>
		</section>

		<Section
			id="capabilities"
			class="relative overflow-hidden"
			eyebrow="Capabilities"
			title="Systems that connect models and meaning"
			subtitle="Computer vision, ML prototyping, and backend delivery with clean, explainable artifacts."
		>
			<SectionScene client:only="react" variant="pipeline" sectionId="capabilities" />
			<div class="grid gap-6 md:grid-cols-[1.2fr_1fr]">
				<div data-animate>
					<MermaidDiagram client:load definition={mermaidDefinition} />
				</div>
				<div data-animate>
					<ChartBlock client:load />
				</div>
			</div>
			<div class="mt-10 grid gap-6 md:grid-cols-2">
				<div class="glass-panel p-6" data-animate>
					<p class="text-xs uppercase tracking-[0.2em] text-mist">Core Skills</p>
					<ul class="mt-4 space-y-2 text-sm text-glass font-mono">
						<li>ML: PyTorch, OpenCV, NLP, Computer Vision, Hugging Face</li>
						<li>Backend: FastAPI, REST APIs, SQLAlchemy, PostgreSQL</li>
						<li>CS: Data Structures, OS, Computer Networks</li>
						<li>Tools: AWS (EC2, S3), GitHub Actions, W&amp;B, Linux, Postman</li>
					</ul>
				</div>
				<div class="glass-panel p-6" data-animate>
					<p class="text-xs uppercase tracking-[0.2em] text-mist">Education</p>
					<div class="mt-4 space-y-4 text-sm text-glass">
						<div>
							<p class="font-semibold">MCA, Reva University</p>
							<p class="text-mist">2nd Semester · CGPA 8.47 · Expected 2026</p>
						</div>
						<div>
							<p class="font-semibold">B.Sc, Integral University</p>
							<p class="text-mist">Physics, Maths, Computer Science · CGPA 7.6</p>
						</div>
					</div>
				</div>
			</div>
		</Section>

		<Section
			id="work"
			class="relative overflow-hidden"
			eyebrow="Selected Work"
			title="Cinematic demos with measurable impact"
			subtitle="Each project includes an ML demo, results, and a visual story."
		>
			<SectionScene client:only="react" variant="carousel" sectionId="work" />
			<div class="grid gap-6 md:grid-cols-3">
				<div class="glass-panel p-6" data-animate>
					<p class="text-sm text-mist">Terrain Safety Analysis &amp; Navigation</p>
					<p class="mt-2 text-2xl text-glass">SegFormer + Depth Anything V2 + A*</p>
					<a class="mt-4 inline-block text-sm text-glow" href="/projects/terrain-safety/">Read case study</a>
				</div>
				<div class="glass-panel p-6" data-animate>
					<p class="text-sm text-mist">Python API Development</p>
					<p class="mt-2 text-2xl text-glass">FastAPI + PostgreSQL, 15% faster queries</p>
					<a class="mt-4 inline-block text-sm text-glow" href="/projects/python-api/">Read case study</a>
				</div>
				<div class="glass-panel p-6" data-animate>
					<p class="text-sm text-mist">Hugging Face Hackathon</p>
					<p class="mt-2 text-2xl text-glass">Global hackathon entry, demos in progress</p>
					<a class="mt-4 inline-block text-sm text-glow" href="/projects/">Explore all</a>
				</div>
			</div>
		</Section>

		<Section
			id="contact"
			class="relative overflow-hidden"
			eyebrow="Impact"
			title="Ready for new collaborations"
			subtitle="Let us connect the model story to the product story."
		>
			<SectionScene client:only="react" variant="calm" sectionId="contact" />
			<div class="glass-panel grid gap-6 p-8 md:grid-cols-[1.4fr_1fr]" data-animate>
				<div>
					<p class="text-sm uppercase tracking-[0.2em] text-mist">Availability</p>
					<p class="mt-3 text-3xl text-glass md:text-4xl">Open for ML internships, CV research, and backend work.</p>
					<p class="mt-4 text-lg text-mist">Based in Bengaluru · Open to global remote roles</p>
					<div class="mt-4 space-y-2 text-sm text-mist">
						<p><a class="text-glow" href="mailto:prakashpranjal001@gmail.com">prakashpranjal001@gmail.com</a></p>
						<p><a class="text-glow" href="https://linkedin.com/in/pranjal-prakash">linkedin.com/in/pranjal-prakash</a></p>
						<p><a class="text-glow" href="https://github.com/githubbermoon">github.com/githubbermoon</a></p>
					</div>
				</div>
				<form class="grid gap-4">
					<input class="rounded-full border border-mist/30 bg-glass/5 px-4 py-3 text-sm text-glass placeholder:text-mist/70" placeholder="Your email" />
					<input class="rounded-full border border-mist/30 bg-glass/5 px-4 py-3 text-sm text-glass placeholder:text-mist/70" placeholder="Project idea" />
					<button class="rounded-full border border-mist/40 px-4 py-3 text-sm text-glass transition hover:border-glass/50">Send message</button>
				</form>
			</div>
		</Section>
	</main>
	<Footer />
</BaseLayout>
